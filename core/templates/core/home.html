{% extends "core/base.html" %}
{% load static %}
{% block title %}
    <title>Home</title>
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
{% endblock %}
{% block css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css"
          href={% static "core/styles/post_card.css" %}>
    <link rel="stylesheet"
          href="https://unpkg.com/flickity@2/dist/flickity.min.css">
{% endblock %}
{% block content %}

    <div class="flex flex-column flex-row-l h-100-l">
        <div class="main-carousel w-50-l vh-50 h-95-l"
             data-flickity=
                     '{
                     "contain": true,
                     "groupCells": true,
                     "pageDots": false
                     }'>
            {% for post in featured_posts %}
                {% include "core/components/featured_post.html" with post=post only %}
            {% endfor %}
        </div>

        <div class="w-100 w-50-l h-100-l bg-light-purple overflow-auto-l">
            <div class="flex flex-wrap tac ttu">
                {% for tag in tags %}
                    {% if tag.post_set.count %}
                        <div class="w-100 pv2 tc f3 underline black">{{ tag.description }}</div>

                        <div class="w-100 main-carousel w-50-l h5"
                             data-flickity=
                                     '{
                     "contain": true,
                     "prevNextButtons": false,
                     "pageDots": false
                     }'>
                            {% for post in tag.post_set.all %}
                                {% include "core/components/post_card.html" with post=post only %}
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
